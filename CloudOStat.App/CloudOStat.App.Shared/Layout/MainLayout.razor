@inherits MainLayoutBase

<MudThemeProvider Theme="CloudOStatTheme.SmokerEmber" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />
<MudBreakpointProvider OnBreakpointChanged="HandleBreakpointChanged" />

<MudLayout>
    <MudAppBar Color="Color.Primary" Elevation="1">
        @if (!_isDesktop)
        {
            <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="ToggleDrawer" />
        }
        <MudText Typo="Typo.h6">CloudOStat</MudText>
    </MudAppBar>

    <MudDrawer @bind-Open="_drawerOpen"
               Variant="_drawerVariant"
               Elevation="1"
               Breakpoint="Breakpoint.Md">
        <NavMenu />
    </MudDrawer>

    <MudMainContent Class="@(_isMobile ? "layout-main layout-main-mobile" : "layout-main")">
        <MudContainer MaxWidth="MaxWidth.False">
            @Body
        </MudContainer>
    </MudMainContent>

    @if (_isMobile)
    {
        <BottomNav />
    }
</MudLayout>

<div id="blazor-error-ui" data-nosnippet>
    An unhandled error has occurred.
    <a href="." class="reload">Reload</a>
    <span class="dismiss">🗙</span>
</div>
